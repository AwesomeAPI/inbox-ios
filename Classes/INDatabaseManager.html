<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>INDatabaseManager Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.0.5 (build 759)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">Inbox iOS SDK Documentation </a></h1>
				<a id="developerHome" href="../index.html">Inbox App, Inc.</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">INDatabaseManager Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/countModelsOfClass:matching:withCallback:">&nbsp;&nbsp;&nbsp;&nbsp;- countModelsOfClass:matching:withCallback:</option>
	
	<option value="//api/name/persistModel:">&nbsp;&nbsp;&nbsp;&nbsp;- persistModel:</option>
	
	<option value="//api/name/persistModels:">&nbsp;&nbsp;&nbsp;&nbsp;- persistModels:</option>
	
	<option value="//api/name/registerCacheObserver:">&nbsp;&nbsp;&nbsp;&nbsp;- registerCacheObserver:</option>
	
	<option value="//api/name/resetDatabase">&nbsp;&nbsp;&nbsp;&nbsp;- resetDatabase</option>
	
	<option value="//api/name/selectModelOfClass:withID:">&nbsp;&nbsp;&nbsp;&nbsp;- selectModelOfClass:withID:</option>
	
	<option value="//api/name/selectModelsOfClass:matching:sortedBy:limit:offset:withCallback:">&nbsp;&nbsp;&nbsp;&nbsp;- selectModelsOfClass:matching:sortedBy:limit:offset:withCallback:</option>
	
	<option value="//api/name/selectModelsOfClass:withQuery:andParameters:andCallback:">&nbsp;&nbsp;&nbsp;&nbsp;- selectModelsOfClass:withQuery:andParameters:andCallback:</option>
	
	<option value="//api/name/selectModelsOfClassSync:withQuery:andParameters:andCallback:">&nbsp;&nbsp;&nbsp;&nbsp;- selectModelsOfClassSync:withQuery:andParameters:andCallback:</option>
	
	<option value="//api/name/unpersistModel:willResaveSameModel:">&nbsp;&nbsp;&nbsp;&nbsp;- unpersistModel:willResaveSameModel:</option>
	
	<option value="//api/name/unpersistModels:">&nbsp;&nbsp;&nbsp;&nbsp;- unpersistModels:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>









<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/countModelsOfClass:matching:withCallback:">countModelsOfClass:matching:withCallback:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/persistModel:">persistModel:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/persistModels:">persistModels:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/registerCacheObserver:">registerCacheObserver:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/resetDatabase">resetDatabase</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/selectModelOfClass:withID:">selectModelOfClass:withID:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/selectModelsOfClass:matching:sortedBy:limit:offset:withCallback:">selectModelsOfClass:matching:sortedBy:limit:offset:withCallback:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/selectModelsOfClass:withQuery:andParameters:andCallback:">selectModelsOfClass:withQuery:andParameters:andCallback:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/selectModelsOfClassSync:withQuery:andParameters:andCallback:">selectModelsOfClassSync:withQuery:andParameters:andCallback:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/unpersistModel:willResaveSameModel:">unpersistModel:willResaveSameModel:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/unpersistModels:">unpersistModels:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="INDatabaseManager Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">INDatabaseManager Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">INDatabaseManager.h<br />INDatabaseManager.m</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The <a href="INDatabaseManager.html">INDatabaseManager</a> is responsible for maintaining a local cache of INModelObjects.
It is built on top of FMDB (which is itself a wrapper on SQLite.) Objects are stored
in the database in tables that are auto-generated for each class based on the class
configuration.</p>

<p>In each table, full JSON representations of objects are stored in a BLOB column called &lsquo;data&rsquo;.
Individual table columns and indexes are created for the properties returned from
<a href="../Classes/INModelObject.html">INModelObject</a> -databaseIndexProperties. This means that queries for a particular class
can only use the properties returned from -databaseIndexProperties, but also ensures
that objects are stored in their entirety, queries only use indexed columns,
and objects do not need to be separately transformed into an SQLite-friendly representatation
for local storage.</p>

<p>The <a href="INDatabaseManager.html">INDatabaseManager</a> is inspired by CoreData, and also by YapDatabase.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/resetDatabase">&ndash;&nbsp;resetDatabase</a></code>
		<span class="tooltip"><p>Clear the entire local cache by destroying the database file.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/registerCacheObserver:">&ndash;&nbsp;registerCacheObserver:</a></code>
		<span class="tooltip"><p>Register for updates when objects are added and removed from the database cache.
The <a href="INDatabaseManager.html">INDatabaseManager</a> uses weak references, so it&rsquo;s not necessary to unregister
as an observer.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/persistModel:">&ndash;&nbsp;persistModel:</a></code>
		<span class="tooltip"><p>Save or update a single <a href="../Classes/INModelObject.html">INModelObject</a> in the local database.
This method notifies observers that the model has been stored.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/persistModels:">&ndash;&nbsp;persistModels:</a></code>
		<span class="tooltip"><p>Save or update a set of INModelObjects in a single database transaction. This is the
preferred way of persisting multiple models, and you should try to use this method
whenever possible.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/unpersistModel:willResaveSameModel:">&ndash;&nbsp;unpersistModel:willResaveSameModel:</a></code>
		<span class="tooltip"><p>Remove an object from the local database cache and notify observers of the change.
This method calls willUnpersist: on the model, removes it and any child rows in
associated tables, and then calls didUnpersist:.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/unpersistModels:">&ndash;&nbsp;unpersistModels:</a></code>
		<span class="tooltip"><p>Remove a set of model objects from the database in a single database transaction. This is the
preferred way of removing multiple models, and you should try to use this method
whenever possible.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/selectModelOfClass:withID:">&ndash;&nbsp;selectModelOfClass:withID:</a></code>
		<span class="tooltip"><p>Select a single instance from the local database cache and return it synchronously.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/selectModelsOfClass:matching:sortedBy:limit:offset:withCallback:">&ndash;&nbsp;selectModelsOfClass:matching:sortedBy:limit:offset:withCallback:</a></code>
		<span class="tooltip"><p>Find models matching the provided predicate and return them, sorted by the sort descriptors.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/selectModelsOfClass:withQuery:andParameters:andCallback:">&ndash;&nbsp;selectModelsOfClass:withQuery:andParameters:andCallback:</a></code>
		<span class="tooltip"><p>Find models using the provided query and query parameters (substitutions for :foo, :bar in the query string).
This is a more direct version of -selectModelsOfClass:matching:sortedBy:limit:offset:withCallback that gives
you full control over the entire query string while handling the inflation of the returned models.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/selectModelsOfClassSync:withQuery:andParameters:andCallback:">&ndash;&nbsp;selectModelsOfClassSync:withQuery:andParameters:andCallback:</a></code>
		<span class="tooltip"><p>Find models using the provided query and query parameters (substitutions for :foo, :bar in the query string).
This method is synchronous, and the callbackwill be invoked immediately on the main thread. This is useful for
some cases, but should be used with care.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/countModelsOfClass:matching:withCallback:">&ndash;&nbsp;countModelsOfClass:matching:withCallback:</a></code>
		<span class="tooltip"><p>Find the number of models that match a particular query, synchronously.</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/countModelsOfClass:matching:withCallback:" title="countModelsOfClass:matching:withCallback:"></a>
	<h3 class="subsubtitle method-title">countModelsOfClass:matching:withCallback:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Find the number of models that match a particular query, synchronously.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)countModelsOfClass:(Class)<em>klass</em> matching:(NSPredicate *)<em>wherePredicate</em> withCallback:(LongBlock)<em>callback</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>klass</em></dt>
			<dd><p>The type of models. Must be a subclass of <a href="../Classes/INModelObject.html">INModelObject</a>.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>wherePredicate</em></dt>
			<dd><p>A comparison or compound NSPredicate.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>callback</em></dt>
			<dd><p>A block for retrieving the result. Called on the main thread at the completion of the query.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Find the number of models that match a particular query, synchronously.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">INDatabaseManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/persistModel:" title="persistModel:"></a>
	<h3 class="subsubtitle method-title">persistModel:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Save or update a single <a href="../Classes/INModelObject.html">INModelObject</a> in the local database.
This method notifies observers that the model has been stored.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)persistModel:(INModelObject *)<em>model</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>model</em></dt>
			<dd><p>The model to be saved to the database.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Save or update a single <a href="../Classes/INModelObject.html">INModelObject</a> in the local database.
This method notifies observers that the model has been stored.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">INDatabaseManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/persistModels:" title="persistModels:"></a>
	<h3 class="subsubtitle method-title">persistModels:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Save or update a set of INModelObjects in a single database transaction. This is the
preferred way of persisting multiple models, and you should try to use this method
whenever possible.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)persistModels:(NSArray *)<em>models</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>models</em></dt>
			<dd><p>An array of INModelObjects of the same class.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Save or update a set of INModelObjects in a single database transaction. This is the
preferred way of persisting multiple models, and you should try to use this method
whenever possible.</p>

<p>This method notifies observers that the models have been stored.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">INDatabaseManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/registerCacheObserver:" title="registerCacheObserver:"></a>
	<h3 class="subsubtitle method-title">registerCacheObserver:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Register for updates when objects are added and removed from the database cache.
The <a href="INDatabaseManager.html">INDatabaseManager</a> uses weak references, so it&rsquo;s not necessary to unregister
as an observer.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)registerCacheObserver:(NSObject&lt;INDatabaseObserver&gt; *)<em>observer</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>observer</em></dt>
			<dd><p>The object that would like to observe the database for changes.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Register for updates when objects are added and removed from the database cache.
The <a href="INDatabaseManager.html">INDatabaseManager</a> uses weak references, so it&rsquo;s not necessary to unregister
as an observer.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">INDatabaseManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/resetDatabase" title="resetDatabase"></a>
	<h3 class="subsubtitle method-title">resetDatabase</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Clear the entire local cache by destroying the database file.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)resetDatabase</code></div>
	
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Clear the entire local cache by destroying the database file.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">INDatabaseManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/selectModelOfClass:withID:" title="selectModelOfClass:withID:"></a>
	<h3 class="subsubtitle method-title">selectModelOfClass:withID:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Select a single instance from the local database cache and return it synchronously.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (INModelObject *)selectModelOfClass:(Class)<em>klass</em> withID:(NSString *)<em>ID</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>klass</em></dt>
			<dd><p>The model class. Must be a subclass of <a href="../Classes/INModelObject.html">INModelObject</a>.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>ID</em></dt>
			<dd><p>an optional instance ID. If an instance ID is not provided, the first
available instance of the class in the database will be returned.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>An instance of &lsquo;klass&rsquo;, or nil if a matching item was not found in the database.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Select a single instance from the local database cache and return it synchronously.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">INDatabaseManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/selectModelsOfClass:matching:sortedBy:limit:offset:withCallback:" title="selectModelsOfClass:matching:sortedBy:limit:offset:withCallback:"></a>
	<h3 class="subsubtitle method-title">selectModelsOfClass:matching:sortedBy:limit:offset:withCallback:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Find models matching the provided predicate and return them, sorted by the sort descriptors.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)selectModelsOfClass:(Class)<em>klass</em> matching:(NSPredicate *)<em>wherePredicate</em> sortedBy:(NSArray *)<em>sortDescriptors</em> limit:(NSUInteger)<em>limit</em> offset:(NSUInteger)<em>offset</em> withCallback:(ResultsBlock)<em>callback</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>klass</em></dt>
			<dd><p>The type of models. Must be a subclass of <a href="../Classes/INModelObject.html">INModelObject</a>.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>wherePredicate</em></dt>
			<dd><p>A comparison or compound NSPredicate.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>sortDescriptors</em></dt>
			<dd><p>One or more sort descriptors.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>limit</em></dt>
			<dd><p>The maximum number of objects to return.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>offset</em></dt>
			<dd><p>The initial offset into the results. Useful when paging.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>callback</em></dt>
			<dd><p>A block that accepts an array of INModelObjects. Called on the main thread at the completion of the query.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Find models matching the provided predicate and return them, sorted by the sort descriptors.</p>

<p>This method is asynchronous, and the callback will be invoked on the main thread when objects are ready.</p>

<p>Note that predicates and sort descriptors should reference class properties, not the underlying
database columns. (&ldquo;namespaceID&rdquo;, not &ldquo;namespace_id&rdquo;). The predicates and sort descriptors you
create can only reference properties returned from <a href="../Classes/INModelObject.html#//api/name/databaseIndexProperties">[INModelObject databaseIndexProperties]</a>, which have
been indexed and have their own table columns under the hood, or <a href="../Classes/INModelObject.html#//api/name/databaseJoinTableProperties">[INModelObject databaseJoinTableProperties]</a>.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">INDatabaseManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/selectModelsOfClass:withQuery:andParameters:andCallback:" title="selectModelsOfClass:withQuery:andParameters:andCallback:"></a>
	<h3 class="subsubtitle method-title">selectModelsOfClass:withQuery:andParameters:andCallback:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Find models using the provided query and query parameters (substitutions for :foo, :bar in the query string).
This is a more direct version of -selectModelsOfClass:matching:sortedBy:limit:offset:withCallback that gives
you full control over the entire query string while handling the inflation of the returned models.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)selectModelsOfClass:(Class)<em>klass</em> withQuery:(NSString *)<em>query</em> andParameters:(NSDictionary *)<em>arguments</em> andCallback:(ResultsBlock)<em>callback</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>klass</em></dt>
			<dd><p>The type of models. Must be a subclass of <a href="../Classes/INModelObject.html">INModelObject</a>.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>query</em></dt>
			<dd><p>A full SQLite query string, beginning with &ldquo;SELECT *&hellip;&rdquo;</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>arguments</em></dt>
			<dd><p>An NSDictionary of arguments substituted into the query string using FMDB&rsquo;s &lsquo;:key&rsquo; snytax.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>callback</em></dt>
			<dd><p>A block that accepts an array of INModelObjects. Called on the main thread at the completion of the query.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Find models using the provided query and query parameters (substitutions for :foo, :bar in the query string).
This is a more direct version of -selectModelsOfClass:matching:sortedBy:limit:offset:withCallback that gives
you full control over the entire query string while handling the inflation of the returned models.</p>

<p>This method is asynchronous, and the callback will be invoked on the main thread when objects are ready.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">INDatabaseManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/selectModelsOfClassSync:withQuery:andParameters:andCallback:" title="selectModelsOfClassSync:withQuery:andParameters:andCallback:"></a>
	<h3 class="subsubtitle method-title">selectModelsOfClassSync:withQuery:andParameters:andCallback:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Find models using the provided query and query parameters (substitutions for :foo, :bar in the query string).
This method is synchronous, and the callbackwill be invoked immediately on the main thread. This is useful for
some cases, but should be used with care.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)selectModelsOfClassSync:(Class)<em>klass</em> withQuery:(NSString *)<em>query</em> andParameters:(NSDictionary *)<em>arguments</em> andCallback:(ResultsBlock)<em>callback</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>klass</em></dt>
			<dd><p>The type of models. Must be a subclass of <a href="../Classes/INModelObject.html">INModelObject</a>.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>query</em></dt>
			<dd><p>A full SQLite query string, beginning with &ldquo;SELECT *&hellip;&rdquo;</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>arguments</em></dt>
			<dd><p>An NSDictionary of arguments substituted into the query string using FMDB&rsquo;s &lsquo;:key&rsquo; snytax.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>callback</em></dt>
			<dd><p>A block that accepts an array of INModelObjects. At this time, the callback is called synchronously.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Find models using the provided query and query parameters (substitutions for :foo, :bar in the query string).
This method is synchronous, and the callbackwill be invoked immediately on the main thread. This is useful for
some cases, but should be used with care.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">INDatabaseManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/unpersistModel:willResaveSameModel:" title="unpersistModel:willResaveSameModel:"></a>
	<h3 class="subsubtitle method-title">unpersistModel:willResaveSameModel:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Remove an object from the local database cache and notify observers of the change.
This method calls willUnpersist: on the model, removes it and any child rows in
associated tables, and then calls didUnpersist:.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)unpersistModel:(INModelObject *)<em>model</em> willResaveSameModel:(BOOL)<em>willResave</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>model</em></dt>
			<dd><p>The object to remove.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>willResave</em></dt>
			<dd><p>Pass YES if you will resave this model immediately, for example,
if you are clearing the model from the cache, changing it&rsquo;s ID, and then resaving it.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Remove an object from the local database cache and notify observers of the change.
This method calls willUnpersist: on the model, removes it and any child rows in
associated tables, and then calls didUnpersist:.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">INDatabaseManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/unpersistModels:" title="unpersistModels:"></a>
	<h3 class="subsubtitle method-title">unpersistModels:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Remove a set of model objects from the database in a single database transaction. This is the
preferred way of removing multiple models, and you should try to use this method
whenever possible.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)unpersistModels:(NSArray *)<em>models</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>models</em></dt>
			<dd><p>The objects to remove from the local cache.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Remove a set of model objects from the database in a single database transaction. This is the
preferred way of removing multiple models, and you should try to use this method
whenever possible.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">INDatabaseManager.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2014 Inbox App, Inc.. All rights reserved. (Last updated: 2014-07-02)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.0.5 (build 759)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
		</script>
	</body>
</html>